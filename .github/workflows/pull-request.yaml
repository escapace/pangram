name: pull-request

on:
  pull_request:
    branches:
      - trunk
    paths-ignore:
      - README.md
      - LICENSE

jobs:
  context:
    uses: ./.github/workflows/workflow-call-context.yaml
  test-build:
    needs:
      - context
    uses: ./.github/workflows/workflow-call-test-build.yaml
    with:
      ref: ${{ needs.context.outputs.ref }}
      node-version: ${{ needs.context.outputs.node-version }}
      pnpm-version: ${{ needs.context.outputs.pnpm-version }}
      artifact-name: ${{ needs.context.outputs.version }}
